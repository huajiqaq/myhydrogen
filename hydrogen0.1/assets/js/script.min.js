document.querySelectorAll(".datepicker").forEach((function(e){new Pikaday({field:e})}));
var downurl;
function Download(content) {
  var eleLink = document.createElement("a");
  eleLink.style.display = "none";
  eleLink.href = content;
  document.body.appendChild(eleLink);
  eleLink.click();
  document.body.removeChild(eleLink);
}

function downapp() {
  //创建xhr对象
  let xhr = new XMLHttpRequest();
  //打开链接,对应参数: "请求类型","请求url"，“是否异步处理”
  xhr.open("get", "https://huajicloud.gitee.io/hydrogen.html", false);
  //监听回调
  xhr.onreadystatechange = function () {
    //readyState状态为4时代表请求完成
    if (xhr.readyState == 4) {
      //http请求状态码200-300一般代表成功，304代表资源未改动，从缓存读取
      if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || xhr.status ==0 ) {
        downurl = xhr.responseText.match(/updateurl=(\S*),updateurl/)[1];
        Download(downurl);
      } else {
        alert("Request was unsuccessful: " + xhr.status);
      }
    }
  };
  //发送请求
  xhr.send(null);
}